@import "tailwindcss";

/* -------------------------------------------------------------------------- */
/* THEME CONFIG                                                               */
/* -------------------------------------------------------------------------- */
@theme {
  /* --- Color Mappings --- */
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  /* --- Radius --- */
  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  /* --- Animations --- */
  --animate-fade-in-up: fade-in-up 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  --animate-fade-in: fade-in 0.6s ease-out forwards;
  --animate-pulse-subtle: pulse-subtle 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  --animate-shimmer: shimmer 8s linear infinite;

  /* --- Keyframes --- */
  @keyframes fade-in-up {
    from { opacity: 0; transform: translateY(20px) scale(0.98); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }

  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes pulse-subtle {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.85; }
  }

  @keyframes shimmer {
    from { background-position: 0 0; }
    to { background-position: -200% 0; }
  }
}

/* -------------------------------------------------------------------------- */
/* BASE STYLES                                                                */
/* -------------------------------------------------------------------------- */
@layer base {
  :root {
    /* ----------------------------------------------------------------------- */
    /* Light Mode                  */
    /* ----------------------------------------------------------------------- */
    
    /* Background: Cool Gray (Not White). */
    --background: 220 14% 96%; 
    
    /* Foreground: Deep Navy/Black. */
    --foreground: 224 71% 4%;
    
    /* Card: Pure White. */
    --card: 0 0% 100%;
    --card-foreground: 224 71% 4%;
    
    --popover: 0 0% 100%;
    --popover-foreground: 224 71% 4%;
    
    /* Primary: Vivid Violet. */
    --primary: 262 83% 58%; 
    --primary-foreground: 210 40% 98%;
    
    /* Secondary: Light Blue-Grey. */
    --secondary: 220 14% 93%;
    --secondary-foreground: 220 14% 10%;
    
    /* Muted: For subtle backgrounds. */
    --muted: 220 14% 93%;
    /* Muted Foreground: Slate. */
    --muted-foreground: 220 8% 46%;
    
    --accent: 220 14% 93%;
    --accent-foreground: 224 71% 4%;
    
    /* Borders */
    --border: 220 13% 88%;
    --input: 220 13% 88%;
    --ring: 262 83% 58%;
    
    --radius: 0.75rem;
  }

  .dark {
    /* Rich Grey/Blacks, not pure black, desaturated */
    --background: 240 10% 4%; /* Deep Carbon */
    --foreground: 0 0% 98%;
    
    --card: 240 10% 6%;
    --card-foreground: 0 0% 98%;
    
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    
    /* Primary: Electric Indigo/Purple but controlled */
    --primary: 250 95% 64%;
    --primary-foreground: 0 0% 98%;
    
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    
    --accent: 240 3.7% 15.9%; /* Hover states */
    --accent-foreground: 0 0% 98%;
    
    /* Borders: Subtle glass borders */
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 240 4.9% 83.9%;
  }

  * {
    @apply border-border outline-ring/50;
  }

  html {
    @apply scroll-smooth antialiased;
  }

  body {
    @apply bg-background text-foreground min-h-screen font-sans tracking-tight;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  #root {
    @apply w-full min-h-screen relative overflow-x-hidden;
  }
}

/* -------------------------------------------------------------------------- */
/* CUSTOM UTILITIES                                                           */
/* -------------------------------------------------------------------------- */

@utility container-custom {
  @apply mx-auto px-6 w-full max-w-7xl;
}

@utility mask-image-gradient-b {
  -webkit-mask-image: linear-gradient(to bottom, black, transparent);
  mask-image: linear-gradient(to bottom, black, transparent);
}

/* Premium Glassmorphism */
@utility glass-panel {
  @apply bg-background/70 backdrop-blur-xl border-b border-white/5 supports-backdrop-filter:bg-background/60;
}

@utility glass-card {
  @apply bg-card/50 backdrop-blur-lg border border-border/50 rounded-xl transition-all duration-300;
  @apply hover:border-primary/20 hover:bg-card/80;
}

/* Typography Effects */
@utility text-gradient {
  /* Subtle gradient */
  @apply bg-clip-text text-transparent bg-linear-to-b from-foreground to-foreground/50;
}

@utility text-gradient-primary {
  @apply bg-clip-text text-transparent;
  /* Light Mode (Sun) */
  @apply bg-linear-to-r from-violet-600 via-indigo-600 to-purple-600;

  /* Dark Mode (Moon)*/
  @apply dark:from-primary dark:via-indigo-400 dark:to-purple-400;
}

/* Buttons (Linear Style) */
@utility btn-primary {
  @apply relative inline-flex items-center justify-center px-6 py-2.5 rounded-full font-medium text-sm transition-all duration-300;
  @apply bg-primary text-primary-foreground shadow-[0_0_20px_-5px_hsla(var(--primary),0.5)];
  @apply hover:shadow-[0_0_25px_-5px_hsla(var(--primary),0.6)] hover:scale-[1.02] active:scale-[0.98];
  
  /* Top highlight for 3D feel */
  &::after {
    content: '';
    @apply absolute inset-0 rounded-full border border-white/20 mask-image-gradient-b;
  }
}

@utility btn-secondary {
  @apply inline-flex items-center justify-center px-6 py-2.5 rounded-full font-medium text-sm transition-all duration-300;
  @apply bg-secondary/50 text-secondary-foreground border border-border/50 backdrop-blur-sm;
  @apply hover:bg-secondary hover:border-border hover:text-foreground;
}

/* Background Grid */
@utility bg-grid-subtle {
  background-size: 40px 40px;
  background-image: linear-gradient(to right, hsla(var(--border), 0.3) 1px, transparent 1px),
                    linear-gradient(to bottom, hsla(var(--border), 0.3) 1px, transparent 1px);
  -webkit-mask-image: radial-gradient(circle at center, black 40%, transparent 100%);
  mask-image: radial-gradient(circle at center, black 40%, transparent 100%);
}

/* BENTO GRID UTILITIES */
@utility bento-card {
  /* Base State */
  @apply relative overflow-hidden rounded-2xl border border-border/60 bg-card/80 p-8 transition-all duration-500 ease-[cubic-bezier(0.16,1,0.3,1)];
  
  /* Layout */
  @apply flex flex-col justify-between h-full;
  
  /* Hover State: Subtle Lift & Glow */
  @apply hover:shadow-[0_8px_30px_rgb(0,0,0,0.06)] hover:-translate-y-1 hover:border-primary/20 dark:hover:border-primary/30 dark:hover:bg-card/80;
}

@utility icon-pill {
  @apply flex items-center justify-center w-10 h-10 rounded-lg bg-secondary/50 text-foreground border border-border/50 mb-4;
}

@utility mask-image-gradient-r {
  -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
  mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
}

@utility skill-badge {
  @apply inline-flex items-center gap-2 px-3 py-1.5 rounded-md border border-border/40 bg-secondary/30 text-xs font-medium text-muted-foreground transition-all duration-300;
  @apply hover:bg-secondary hover:text-foreground hover:border-border/80 cursor-default;
}

/* Optional: Subtle gradient text for card titles to match Hero */
@utility text-gradient-subtle {
  @apply bg-clip-text text-transparent bg-linear-to-br from-foreground to-muted-foreground;
}

@utility filter-bar {
  @apply inline-flex items-center p-1 rounded-full border border-border/40 bg-secondary/30 backdrop-blur-md;
}

@utility filter-tab {
  @apply px-5 py-2 rounded-full text-sm font-medium transition-all duration-300 cursor-pointer select-none;
  /* Default State (Inactive) */
  @apply text-muted-foreground hover:text-foreground hover:bg-secondary/50;
}

@utility filter-tab-active {
  /* Active State (Popped) */
  @apply bg-background text-foreground shadow-sm shadow-black/5 ring-1 ring-black/5;
}

@utility project-card {
  
  @apply relative flex h-full rounded-2xl border border-border/60 bg-card/80 overflow-hidden transition-all duration-500 ease-[cubic-bezier(0.25,0.46,0.45,0.94)];

  @apply hover:-translate-y-2 hover:shadow-[0_20px_40px_-15px_rgba(0,0,0,0.1)] hover:border-primary/30 dark:hover:border-primary/40 dark:hover:bg-card/90;
}

@utility project-image-container {
  @apply relative h-48 w-full overflow-hidden border-b border-border/40 bg-secondary/20;
}

@utility project-link {
  @apply flex items-center gap-2 text-xs font-medium text-muted-foreground transition-colors duration-300 hover:text-primary;
}

@utility hover-shine {
  @apply absolute inset-0 -translate-x-full group-hover:animate-[shimmer_1.5s_infinite] bg-linear-to-r from-transparent via-white/10 to-transparent z-20 pointer-events-none;
}

@utility vertical-text {
  writing-mode: vertical-rl;
  text-orientation: mixed;
  transform: rotate(180deg);
}

@utility panel-transition {
  @apply transition-[flex-grow,width,opacity] duration-700 ease-[cubic-bezier(0.25,0.46,0.45,0.94)];
}

/* Ensure inputs have the glass feel */
@utility glass-input {
  @apply w-full bg-secondary/20 border border-border/40 rounded-lg px-4 py-3 outline-none text-foreground placeholder:text-muted-foreground/50 transition-all duration-300;
  @apply focus:bg-background/50 focus:border-primary/50 focus:ring-1 focus:ring-primary/20;
}

@utility perspective-container {
  perspective: 1000px;
  transform-style: preserve-3d;
}

@utility preserve-3d {
  transform-style: preserve-3d;
}

@utility backface-hidden {
  backface-visibility: hidden;
}